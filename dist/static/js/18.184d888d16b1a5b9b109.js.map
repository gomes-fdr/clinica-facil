{"version":3,"sources":["webpack:///static/js/18.184d888d16b1a5b9b109.js","webpack:///./src/components/agenda/ControleConsulta.vue?0c6c","webpack:///./src/components/agenda/ControleConsulta.vue","webpack:///src/components/agenda/ControleConsulta.vue"],"names":["webpackJsonp","JGtw","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","width","_m","_v","_s","event","name","date","directives","rawName","value","form","paciente","expression","class","is-danger","validation","hasError","attrs","type","placeholder","domProps","on","input","$event","target","composing","$set","click","preventDefault","pesquisaPaciente","firstError","expanded","model","callback","$$v","_l","c","key","id","descricao","disabled","salvarConsulta","active","modal","isActive","update:active","data","loading","isLoading","columns","selected","update:selected","dblclick","copiaPaciente","staticRenderFns","esExports","U91L","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ControleConsulta_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6279d2c8_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ControleConsulta_vue__","normalizeComponent","Component","X6Eo","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1__main__","__WEBPACK_IMPORTED_MODULE_2_simple_vue_validator__","__WEBPACK_IMPORTED_MODULE_2_simple_vue_validator___default","moment","HTTP","a","create","baseURL","headers","Authorization","localStorage","getItem","Validator","templates","required","props","apiConvenios","dataMarcacao","confirmacao_consulta_sms","compareceu","nome","quem_marcou_id","horario_id","convenio","field","label","validators","form.paciente.nome","form.convenio","mounted","initApp","methods","utc","format","startTime","endTime","_this","console","log","vm","$validate","then","response","Date","post","$toast","open","message","position","$parent","close","catch","error","finally","length","get","getPSPaciente","pacienteID","forEach","ps","push"],"mappings":"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","file":"static/js/18.184d888d16b1a5b9b109.js","sourcesContent":["webpackJsonp([18],{\n\n/***/ \"JGtw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',[_c('div',{staticClass:\"modal-card\",staticStyle:{\"width\":\"auto\"}},[_vm._m(0),_vm._v(\" \"),_c('section',{staticClass:\"modal-card-body\"},[_c('p',{staticClass:\" has-text-black has-text-centered\"},[_vm._v(\"Profissional: \"+_vm._s(_vm.event.name))]),_vm._v(\" \"),_c('p',{staticClass:\" has-text-black has-text-centered\"},[_vm._v(_vm._s(_vm.date))]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('form',[_c('div',{staticClass:\"field is-horizontal\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"field has-addons\"},[_c('p',{staticClass:\"control is-expanded\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.paciente.nome),expression:\"form.paciente.nome\"}],staticClass:\"input\",class:{'is-danger': _vm.validation.hasError('form.paciente.nome') },attrs:{\"type\":\"text\",\"placeholder\":\"Nome\"},domProps:{\"value\":(_vm.form.paciente.nome)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.paciente, \"nome\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"button is-right\",on:{\"click\":function($event){$event.preventDefault();return _vm.pesquisaPaciente($event)}}},[_c('i',{staticClass:\"fas fa-search\"})])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.validation.hasError('form.paciente.nome')),expression:\"validation.hasError('form.paciente.nome')\"}],staticClass:\"help is-danger\"},[_vm._v(_vm._s(_vm.validation.firstError('form.paciente.nome')))])]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('b-select',{attrs:{\"placeholder\":\"Convênio\",\"expanded\":\"\"},model:{value:(_vm.form.convenio),callback:function ($$v) {_vm.$set(_vm.form, \"convenio\", $$v)},expression:\"form.convenio\"}},_vm._l((_vm.apiConvenios),function(c){return _c('option',{key:c.id,domProps:{\"value\":c}},[_vm._v(\"\\n                \"+_vm._s(c.descricao)+\"\\n                \")])}),0),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.validation.hasError('form.convenio')),expression:\"validation.hasError('form.convenio')\"}],staticClass:\"help is-danger\"},[_vm._v(_vm._s(_vm.validation.firstError('form.convenio')))])],1)])])])]),_vm._v(\" \"),_c('footer',{staticClass:\"modal-card-foot\"},[_c('div',{staticClass:\"field is-grouped is-grouped-right\"},[_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":true}},[_vm._v(\"Confirmar Ausência\")]),_vm._v(\" \"),_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":true}},[_vm._v(\"Apagar Consulta\")]),_vm._v(\" \"),_c('button',{staticClass:\"button is-info\",attrs:{\"disabled\":true}},[_vm._v(\"Confirmar Presença\")]),_vm._v(\" \"),_c('button',{staticClass:\"button is-info\",on:{\"click\":function($event){$event.preventDefault();return _vm.salvarConsulta($event)}}},[_vm._v(\"Salvar Consulta\")])])])])]),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.modal.isActive},on:{\"update:active\":function($event){return _vm.$set(_vm.modal, \"isActive\", $event)}}},[_c('b-table',{attrs:{\"data\":_vm.modal.data,\"loading\":_vm.modal.isLoading,\"columns\":_vm.modal.columns,\"selected\":_vm.modal.selected},on:{\"update:selected\":function($event){return _vm.$set(_vm.modal, \"selected\", $event)},\"dblclick\":_vm.copiaPaciente}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Controle de Consulta\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Paciente\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"U91L\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ControleConsulta_vue__ = __webpack_require__(\"X6Eo\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6279d2c8_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ControleConsulta_vue__ = __webpack_require__(\"JGtw\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ControleConsulta_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6279d2c8_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ControleConsulta_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"X6Eo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(\"mtWM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__main__ = __webpack_require__(\"NHnr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simple_vue_validator__ = __webpack_require__(\"IXCS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simple_vue_validator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_simple_vue_validator__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nvar moment = __webpack_require__(\"PJh5\");\n\nvar HTTP = __WEBPACK_IMPORTED_MODULE_0_axios___default.a.create({\n  baseURL: __WEBPACK_IMPORTED_MODULE_1__main__[\"API_URL\"],\n  headers: { Authorization: 'Bearer: ' + localStorage.getItem('token') }\n});\nvar Validator = __WEBPACK_IMPORTED_MODULE_2_simple_vue_validator___default.a.Validator.create({\n  templates: {\n    required: 'Campo obrigatório'\n  }\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'ControleConsulta',\n  props: ['event'],\n  data: function data() {\n    return {\n      date: '',\n      apiConvenios: [],\n      form: {\n        dataMarcacao: null,\n        confirmacao_consulta_sms: false,\n        compareceu: false,\n        paciente: {\n          id: '',\n          nome: ''\n        },\n        quem_marcou_id: '',\n        horario_id: '',\n        convenio: []\n      },\n      modal: {\n        isLoading: false,\n        isActive: false,\n        data: [],\n        columns: [{\n          field: 'nome',\n          label: 'Nome'\n        }, {\n          field: 'cpf',\n          label: 'CPF'\n        }],\n        selected: null\n      }\n    };\n  },\n\n  validators: {\n    'form.paciente.nome': function formPacienteNome(value) {\n      return Validator.value(value).required();\n    },\n    'form.convenio': function formConvenio(value) {\n      return Validator.value(value).required();\n    }\n  },\n  mounted: function mounted() {\n    this.initApp();\n  },\n\n  methods: {\n    initApp: function initApp() {\n      this.date = moment.utc(this.event.date).format('dddd, DD MMMM YYYY') + ' das ' + this.event.startTime + ' as ' + this.event.endTime;\n      this.form.horario_id = this.event.horario_id;\n      this.form.quem_marcou_id = localStorage.getItem('profissional_id');\n    },\n    salvarConsulta: function salvarConsulta() {\n      var _this = this;\n\n      console.log('Salvar NOVA consulta');\n\n      // TODO: SALVAR CONSULTA NO BANCO\n      // TODO: Enviar SMS para o paciente, se o celular estiver preenchido\n\n      var vm = this;\n      this.$validate().then(function (response) {\n        if (response) {\n          var data = _this.form;\n          data.dataMarcacao = new Date();\n          HTTP.post(__WEBPACK_IMPORTED_MODULE_1__main__[\"API_URL\"] + 'agenda/consulta', data).then(function (response) {\n            // console.log(response)\n            if (response) {\n              // console.log(response.data)\n              vm.$toast.open({\n                message: 'CONSULTA salav com sucesso',\n                type: 'is-success',\n                position: 'is-bottom'\n              });\n              vm.$parent.close();\n            }\n          }).catch(function (error) {\n            // console.log(error)\n            vm.$toast.open({\n              message: 'FALHA ao gravar uma CONSULTA',\n              type: 'is-danger',\n              position: 'is-bottom'\n            });\n          }).finally(function () {\n            // vm.modal.isLoading = false\n          });\n        }\n      }).catch(function (error) {});\n    },\n    pesquisaPaciente: function pesquisaPaciente() {\n      console.log('Pesquisa paciente');\n      if (!this.form.paciente.nome.length) {\n        return;\n      }\n\n      var vm = this;\n      HTTP.get(__WEBPACK_IMPORTED_MODULE_1__main__[\"API_URL\"] + 'paciente/nome/' + vm.form.paciente.nome, {}).then(function (response) {\n        // console.log(response)\n        if (response) {\n          vm.modal.data = response.data;\n          vm.modal.isActive = true;\n        }\n      }).catch(function (error) {\n        // console.log(error)\n        vm.$toast.open({\n          message: 'NENHUM PACIENTE encontrado.',\n          type: 'is-danger',\n          position: 'is-bottom'\n        });\n      }).finally(function () {\n        vm.modal.isLoading = false;\n      });\n    },\n    copiaPaciente: function copiaPaciente() {\n      console.log('Copia paciente');\n      var vm = this;\n      HTTP.get(__WEBPACK_IMPORTED_MODULE_1__main__[\"API_URL\"] + 'paciente/nome-completo/' + vm.modal.selected.nome).then(function (response) {\n        // console.log(response)\n        var paciente = response.data;\n        // let t = moment.utc(tmp.dt_nascimento).format('DD/MM/YYYY')\n        // tmp.dt_nascimento = t\n        // console.log(tmp)\n        // vm.form = tmp\n        // vm.bNovo = true\n        // vm.bAtualizar = false\n        // let data = {\n        //   id: vm.form.id,\n        //   nome: vm.form.nome,\n        //   dt_nascimento: vm.form.dt_nascimento\n        // }\n        // console.log(paciente)\n        vm.form.paciente.id = paciente.id;\n        vm.form.paciente.nome = paciente.nome;\n        vm.getPSPaciente(vm.form.paciente.id);\n      }).catch(function (error) {\n        console.log(error);\n      }).finally(function () {\n        vm.modal.isLoading = false;\n      });\n      this.modal.isActive = false;\n    },\n    getPSPaciente: function getPSPaciente(pacienteID) {\n      console.log('Busca planos de saude de um paciente');\n      var vm = this;\n\n      HTTP.get(__WEBPACK_IMPORTED_MODULE_1__main__[\"API_URL\"] + 'ps-paciente/' + pacienteID, {}).then(function (response) {\n        console.log(response.data);\n        var convenios = response.data;\n\n        convenios.forEach(function (c) {\n          var convenio = {\n            id: '',\n            descricao: ''\n          };\n          convenio.id = c.id;\n          convenio.descricao = c.ps.descricao;\n          vm.apiConvenios.push(convenio);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/18.184d888d16b1a5b9b109.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',[_c('div',{staticClass:\"modal-card\",staticStyle:{\"width\":\"auto\"}},[_vm._m(0),_vm._v(\" \"),_c('section',{staticClass:\"modal-card-body\"},[_c('p',{staticClass:\" has-text-black has-text-centered\"},[_vm._v(\"Profissional: \"+_vm._s(_vm.event.name))]),_vm._v(\" \"),_c('p',{staticClass:\" has-text-black has-text-centered\"},[_vm._v(_vm._s(_vm.date))]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('form',[_c('div',{staticClass:\"field is-horizontal\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"field has-addons\"},[_c('p',{staticClass:\"control is-expanded\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.paciente.nome),expression:\"form.paciente.nome\"}],staticClass:\"input\",class:{'is-danger': _vm.validation.hasError('form.paciente.nome') },attrs:{\"type\":\"text\",\"placeholder\":\"Nome\"},domProps:{\"value\":(_vm.form.paciente.nome)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.paciente, \"nome\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"button is-right\",on:{\"click\":function($event){$event.preventDefault();return _vm.pesquisaPaciente($event)}}},[_c('i',{staticClass:\"fas fa-search\"})])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.validation.hasError('form.paciente.nome')),expression:\"validation.hasError('form.paciente.nome')\"}],staticClass:\"help is-danger\"},[_vm._v(_vm._s(_vm.validation.firstError('form.paciente.nome')))])]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('b-select',{attrs:{\"placeholder\":\"Convênio\",\"expanded\":\"\"},model:{value:(_vm.form.convenio),callback:function ($$v) {_vm.$set(_vm.form, \"convenio\", $$v)},expression:\"form.convenio\"}},_vm._l((_vm.apiConvenios),function(c){return _c('option',{key:c.id,domProps:{\"value\":c}},[_vm._v(\"\\n                \"+_vm._s(c.descricao)+\"\\n                \")])}),0),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.validation.hasError('form.convenio')),expression:\"validation.hasError('form.convenio')\"}],staticClass:\"help is-danger\"},[_vm._v(_vm._s(_vm.validation.firstError('form.convenio')))])],1)])])])]),_vm._v(\" \"),_c('footer',{staticClass:\"modal-card-foot\"},[_c('div',{staticClass:\"field is-grouped is-grouped-right\"},[_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":true}},[_vm._v(\"Confirmar Ausência\")]),_vm._v(\" \"),_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":true}},[_vm._v(\"Apagar Consulta\")]),_vm._v(\" \"),_c('button',{staticClass:\"button is-info\",attrs:{\"disabled\":true}},[_vm._v(\"Confirmar Presença\")]),_vm._v(\" \"),_c('button',{staticClass:\"button is-info\",on:{\"click\":function($event){$event.preventDefault();return _vm.salvarConsulta($event)}}},[_vm._v(\"Salvar Consulta\")])])])])]),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.modal.isActive},on:{\"update:active\":function($event){return _vm.$set(_vm.modal, \"isActive\", $event)}}},[_c('b-table',{attrs:{\"data\":_vm.modal.data,\"loading\":_vm.modal.isLoading,\"columns\":_vm.modal.columns,\"selected\":_vm.modal.selected},on:{\"update:selected\":function($event){return _vm.$set(_vm.modal, \"selected\", $event)},\"dblclick\":_vm.copiaPaciente}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Controle de Consulta\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Paciente\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6279d2c8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/agenda/ControleConsulta.vue\n// module id = JGtw\n// module chunks = 0 1 9 18","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ControleConsulta.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ControleConsulta.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6279d2c8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ControleConsulta.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/agenda/ControleConsulta.vue\n// module id = U91L\n// module chunks = 0 1 9 18","<template>\n<div>\n  <form>\n    <div class=\"modal-card\" style=\"width: auto\">\n      <header class=\"modal-card-head\">\n        <p class=\"modal-card-title\">Controle de Consulta</p>\n      </header>\n      <section class=\"modal-card-body\">\n        <p class=\" has-text-black has-text-centered\">Profissional: {{ event.name }}</p>\n        <p class=\" has-text-black has-text-centered\">{{  date  }}</p>\n        <br>\n        <form>\n          <div class=\"field is-horizontal\">\n          <div class=\"field-label is-normal\">\n            <label class=\"label\">Paciente</label>\n          </div>\n          \n          <div class=\"field-body\">\n            <div class=\"field\">\n              <div class=\"field has-addons\">\n                <p class=\"control is-expanded\">\n                  <input\n                  class=\"input\"\n                  :class=\"{'is-danger': validation.hasError('form.paciente.nome') }\"\n                  type=\"text\"\n                  placeholder=\"Nome\"\n                  v-model=\"form.paciente.nome\"\n                  >\n                </p>\n                  <div class=\"control\">\n                    <a class=\"button is-right\" @click.prevent=\"pesquisaPaciente\">\n                      <i class=\"fas fa-search\"></i>\n                    </a>\n                  </div>\n              </div>\n              <p v-show=\"validation.hasError('form.paciente.nome')\" class=\"help is-danger\">{{ validation.firstError('form.paciente.nome') }}</p>\n            </div>\n            \n            <div class=\"field\">\n              <b-select \n              placeholder=\"Convênio\"\n              expanded\n              v-model=\"form.convenio\"\n              >\n                <option\n                v-for=\"c in apiConvenios\"\n                :value=\"c\"\n                :key=\"c.id\"\n                >\n                {{ c.descricao }}\n                </option>\n              </b-select>\n              <p v-show=\"validation.hasError('form.convenio')\" class=\"help is-danger\">{{ validation.firstError('form.convenio') }}</p>\n            </div>\n          </div>\n        </div>\n        </form>\n      </section>\n      <footer class=\"modal-card-foot\">\n        <div class=\"field is-grouped is-grouped-right\">\n          <button class=\"button is-danger\" :disabled=\"true\">Confirmar Ausência</button>\n          <button class=\"button is-danger\" :disabled=\"true\">Apagar Consulta</button>\n          <button class=\"button is-info\" :disabled=\"true\">Confirmar Presença</button>\n          <button class=\"button is-info\" @click.prevent=\"salvarConsulta\">Salvar Consulta</button>\n        </div>\n      </footer>\n    </div>\n  </form>\n\n  <b-modal :active.sync=\"modal.isActive\">\n    <b-table \n    :data=\"modal.data\"\n    :loading=\"modal.isLoading\"\n    :columns=\"modal.columns\"\n    :selected.sync=\"modal.selected\"\n    @dblclick=\"copiaPaciente\"\n    >\n    </b-table>\n  </b-modal>\n\n</div>\n</template>\n<script>\nimport axios from 'axios'\nimport { API_URL } from '../../main'\nimport SimpleVueValidation from 'simple-vue-validator'\n\nvar moment = require('moment')\n\nconst HTTP = axios.create({\n  baseURL: API_URL,\n  headers: { Authorization: `Bearer: ${localStorage.getItem('token')}` }\n})\nconst Validator = SimpleVueValidation.Validator.create({\n  templates: {\n    required: 'Campo obrigatório'\n  }\n})\n\nexport default {\n  name: 'ControleConsulta',\n  props: ['event'],\n  data () {\n    return {\n      date: '',\n      apiConvenios: [],\n      form: {\n        dataMarcacao: null,\n        confirmacao_consulta_sms: false,\n        compareceu: false,\n        paciente: {\n          id: '',\n          nome: ''\n        },\n        quem_marcou_id: '',\n        horario_id: '',\n        convenio: []\n      },\n      modal: {\n        isLoading: false,\n        isActive: false,\n        data: [],\n        columns: [\n          {\n            field: 'nome',\n            label: 'Nome'\n          },\n          {\n            field: 'cpf',\n            label: 'CPF'\n          }\n        ],\n        selected: null\n      }\n    }\n  },\n  validators: {\n    'form.paciente.nome': function (value) {\n      return Validator.value(value).required()\n    },\n    'form.convenio': function (value) {\n      return Validator.value(value).required()\n    }\n  },\n  mounted () {\n    this.initApp()\n  },\n  methods: {\n    initApp () {\n      this.date = `${moment.utc(this.event.date).format('dddd, DD MMMM YYYY')} das ${this.event.startTime} as ${this.event.endTime}`\n      this.form.horario_id = this.event.horario_id\n      this.form.quem_marcou_id = localStorage.getItem('profissional_id')\n    },\n    salvarConsulta () {\n      console.log('Salvar NOVA consulta')\n\n      // TODO: SALVAR CONSULTA NO BANCO\n      // TODO: Enviar SMS para o paciente, se o celular estiver preenchido\n\n      let vm = this\n      this.$validate()\n      .then(response => {\n        if (response) {\n          let data = this.form\n          data.dataMarcacao = new Date()\n          HTTP\n          .post(`${API_URL}agenda/consulta`, data)\n        .then(function (response) {\n          // console.log(response)\n          if (response) {\n            // console.log(response.data)\n            vm.$toast.open({\n              message:\n                'CONSULTA salav com sucesso',\n              type: 'is-success',\n              position: 'is-bottom'\n            })\n            vm.$parent.close()\n          }\n        })\n        .catch(function (error) {\n          // console.log(error)\n          vm.$toast.open({\n            message:\n              'FALHA ao gravar uma CONSULTA',\n            type: 'is-danger',\n            position: 'is-bottom'\n          })\n        })\n        .finally(function () {\n          // vm.modal.isLoading = false\n        })\n        }\n      })\n      .catch(error => {})\n    },\n    pesquisaPaciente () {\n      console.log('Pesquisa paciente')\n      if (!this.form.paciente.nome.length) {\n        return\n      }\n\n      let vm = this\n      HTTP\n        .get(`${API_URL}paciente/nome/${vm.form.paciente.nome}`, {\n        })\n      .then(function (response) {\n        // console.log(response)\n        if (response) {\n          vm.modal.data = response.data\n          vm.modal.isActive = true\n        }\n      })\n      .catch(function (error) {\n        // console.log(error)\n        vm.$toast.open({\n          message:\n            'NENHUM PACIENTE encontrado.',\n          type: 'is-danger',\n          position: 'is-bottom'\n        })\n      })\n      .finally(function () {\n        vm.modal.isLoading = false\n      })\n    },\n    copiaPaciente () {\n      console.log('Copia paciente')\n      let vm = this\n      HTTP\n      .get(`${API_URL}paciente/nome-completo/${vm.modal.selected.nome}`)\n      .then(function (response) {\n        // console.log(response)\n        let paciente = response.data\n        // let t = moment.utc(tmp.dt_nascimento).format('DD/MM/YYYY')\n        // tmp.dt_nascimento = t\n        // console.log(tmp)\n        // vm.form = tmp\n        // vm.bNovo = true\n        // vm.bAtualizar = false\n        // let data = {\n        //   id: vm.form.id,\n        //   nome: vm.form.nome,\n        //   dt_nascimento: vm.form.dt_nascimento\n        // }\n        // console.log(paciente)\n        vm.form.paciente.id = paciente.id\n        vm.form.paciente.nome = paciente.nome\n        vm.getPSPaciente(vm.form.paciente.id)\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n      .finally(function () {\n        vm.modal.isLoading = false\n      })\n      this.modal.isActive = false\n    },\n    getPSPaciente (pacienteID) {\n      console.log('Busca planos de saude de um paciente')\n      let vm = this\n\n      HTTP\n      .get(`${API_URL}ps-paciente/${pacienteID}`, {})\n      .then(function (response) {\n        console.log(response.data)\n        let convenios = response.data\n\n        convenios.forEach(c => {\n          let convenio = {\n            id: '',\n            descricao: ''\n          }\n          convenio.id = c.id\n          convenio.descricao = c.ps.descricao\n          vm.apiConvenios.push(convenio)\n        })\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n    }\n  }\n}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/agenda/ControleConsulta.vue"],"sourceRoot":""}