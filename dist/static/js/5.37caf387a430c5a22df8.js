webpackJsonp([5,15,16,17,18],{"2gh5":function(t,a,e){"use strict";a.a={name:"Documentos",beforeCreate:function(){},data:function(){return{form:{dt_validade:""},data:[{descricao:"Documento de teste",dt_recebimento:"12/12/2019",responsavel:"Fabiano Gomes"}],columns:[{field:"descricao",label:"Descrição"},{field:"dt_recebimento",label:"Data da Gravação"},{field:"responsavel",label:"Responsavel"}],checkedRows:[],file:null}},methods:{pesquisarPlano:function(){console.log("Consulta planos de saude")}}}},BJBy:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("form",[e("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("div",{staticClass:"field has-addons"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nome,expression:"form.nome"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.nome")},attrs:{type:"text",placeholder:"Nome"},domProps:{value:t.form.nome},on:{input:function(a){a.target.composing||t.$set(t.form,"nome",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"control"},[e("a",{staticClass:"button is-right",on:{click:function(a){return a.preventDefault(),t.pesquisarNome(a)}}},[e("i",{staticClass:"fas fa-search"})])])]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.nome"),expression:"validation.hasError('form.nome')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.nome")))])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.email")},attrs:{type:"text",placeholder:"Email"},domProps:{value:t.form.email},on:{input:function(a){a.target.composing||t.$set(t.form,"email",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.email"),expression:"validation.hasError('form.email')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.email")))])])])]),t._v(" "),e("div",{staticClass:"field is-horizontal"},[e("div",{staticClass:"field-label is-normal"}),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.dt_nascimento,expression:"form.dt_nascimento"},{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.dt_nascimento")},attrs:{type:"text",placeholder:"Data de Nascimento"},domProps:{value:t.form.dt_nascimento},on:{input:function(a){a.target.composing||t.$set(t.form,"dt_nascimento",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.dt_nascimento"),expression:"validation.hasError('form.dt_nascimento')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.dt_nascimento")))])]),t._v(" "),e("div",{staticClass:"field"},[e("div",{staticClass:"field has-addons"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cpf,expression:"form.cpf"},{name:"mask",rawName:"v-mask",value:"###########",expression:"'###########'"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.cpf")},attrs:{type:"text",placeholder:"CPF"},domProps:{value:t.form.cpf},on:{input:function(a){a.target.composing||t.$set(t.form,"cpf",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"control"},[e("a",{staticClass:"button  is-right",on:{click:function(a){return a.preventDefault(),t.pesquisarCPF(a)}}},[e("i",{staticClass:"fas fa-search"})])])]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.cpf"),expression:"validation.hasError('form.cpf')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.cpf")))])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rg,expression:"form.rg"},{name:"mask",rawName:"v-mask",value:"##########",expression:"'##########'"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.rg")},attrs:{type:"text",placeholder:"Identidade"},domProps:{value:t.form.rg},on:{input:function(a){a.target.composing||t.$set(t.form,"rg",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.rg"),expression:"validation.hasError('form.rg')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.rg")))])])])]),t._v(" "),e("div",{staticClass:"field is-horizontal"},[e("div",{staticClass:"field-label is-normal"}),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.filiacao,expression:"form.filiacao"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.filiacao")},attrs:{type:"text",placeholder:"Filiação"},domProps:{value:t.form.filiacao},on:{input:function(a){a.target.composing||t.$set(t.form,"filiacao",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.filiacao"),expression:"validation.hasError('form.filiacao') "}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.filiacao")))])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.profissao,expression:"form.profissao"}],staticClass:"input",attrs:{type:"text",placeholder:"Profissão"},domProps:{value:t.form.profissao},on:{input:function(a){a.target.composing||t.$set(t.form,"profissao",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.responsavel,expression:"form.responsavel"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.responsavel")},attrs:{type:"text",placeholder:"Responsável",disabled:t.isChild},domProps:{value:t.form.responsavel},on:{input:function(a){a.target.composing||t.$set(t.form,"responsavel",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.responsavel"),expression:"validation.hasError('form.responsavel') "}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.responsavel")))])])])]),t._v(" "),e("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.t_celular,expression:"form.t_celular"},{name:"mask",rawName:"v-mask",value:"###########",expression:"'###########'"}],staticClass:"input",attrs:{type:"text",placeholder:"Telefone Celular"},domProps:{value:t.form.t_celular},on:{input:function(a){a.target.composing||t.$set(t.form,"t_celular",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.t_fixo,expression:"form.t_fixo"},{name:"mask",rawName:"v-mask",value:"##########",expression:"'##########'"}],staticClass:"input",attrs:{type:"text",placeholder:"Telefone Fixo"},domProps:{value:t.form.t_fixo},on:{input:function(a){a.target.composing||t.$set(t.form,"t_fixo",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.t_responsavel,expression:"form.t_responsavel"},{name:"mask",rawName:"v-mask",value:"###########",expression:"'###########'"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.t_responsavel")},attrs:{type:"text",placeholder:"Telefone Responsável",disabled:t.isChild},domProps:{value:t.form.t_responsavel},on:{input:function(a){a.target.composing||t.$set(t.form,"t_responsavel",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.t_responsavel"),expression:"validation.hasError('form.t_responsavel') "}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.t_responsavel")))])])])]),t._v(" "),e("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rua,expression:"form.rua"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.rua")},attrs:{type:"text",placeholder:"Rua"},domProps:{value:t.form.rua},on:{input:function(a){a.target.composing||t.$set(t.form,"rua",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.rua"),expression:"validation.hasError('form.rua') "}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.rua")))])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.numero,expression:"form.numero"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.numero")},attrs:{type:"text",placeholder:"Numero"},domProps:{value:t.form.numero},on:{input:function(a){a.target.composing||t.$set(t.form,"numero",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.numero"),expression:"validation.hasError('form.numero') "}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.numero")))])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.complemento,expression:"form.complemento"}],staticClass:"input",attrs:{type:"text",placeholder:"Complemento"},domProps:{value:t.form.complemento},on:{input:function(a){a.target.composing||t.$set(t.form,"complemento",a.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"field is-horizontal"},[e("div",{staticClass:"field-label is-normal"}),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cidade,expression:"form.cidade"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.cidade")},attrs:{type:"text",placeholder:"Cidade"},domProps:{value:t.form.cidade},on:{input:function(a){a.target.composing||t.$set(t.form,"cidade",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.cidade"),expression:"validation.hasError('form.cidade') "}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.cidade")))])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.estado,expression:"form.estado"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.estado")},attrs:{type:"text",placeholder:"Estado"},domProps:{value:t.form.estado},on:{input:function(a){a.target.composing||t.$set(t.form,"estado",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.estado"),expression:"validation.hasError('form.estado') "}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.estado")))])]),t._v(" "),e("div",{staticClass:"field"},[e("div",{staticClass:"field has-addons"},[e("p",{staticClass:"control is-expanded has-icons-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cep,expression:"form.cep"},{name:"mask",rawName:"v-mask",value:"########",expression:"'########'"}],staticClass:"input",attrs:{type:"text",placeholder:"CEP"},domProps:{value:t.form.cep},on:{input:function(a){a.target.composing||t.$set(t.form,"cep",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"control"},[e("a",{staticClass:"button  is-right",on:{click:function(a){return a.preventDefault(),t.pesquisarCEP(a)}}},[e("i",{staticClass:"fas fa-search"})])])])])])]),t._v(" "),e("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.observacoes,expression:"form.observacoes"}],staticClass:"input",attrs:{type:"text",placeholder:"Observações do paciente"},domProps:{value:t.form.observacoes},on:{input:function(a){a.target.composing||t.$set(t.form,"observacoes",a.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"field is-horizontal"},[t._m(4),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field "},[e("p",{staticClass:"is-size-5"},[e("button",{staticClass:"button is-rounded is-warning",attrs:{type:"button",disabled:!0},on:{click:function(a){return a.preventDefault(),t.cidAssociada(a)}}},[t._v("Visualizar")])])])])]),t._v(" "),e("div",{staticClass:"field is-grouped is-grouped-right"},[e("div",{staticClass:"control is-grouped-right"},[e("b-switch",{attrs:{type:"is-info"},model:{value:t.form.envioSMS,callback:function(a){t.$set(t.form,"envioSMS",a)},expression:"form.envioSMS"}},[t._v("Envio de SMS?")]),t._v(" "),e("b-switch",{attrs:{type:"is-info"},model:{value:t.form.adultoInapto,callback:function(a){t.$set(t.form,"adultoInapto",a)},expression:"form.adultoInapto"}},[t._v("Adulto com Responsável?")])],1)]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"field is-grouped is-grouped-right"},[e("p",{staticClass:"control"},[e("button",{staticClass:"button",attrs:{type:"reset"},on:{click:function(a){return a.preventDefault(),t.reset(a)}}},[t._v("Limpar")])]),t._v(" "),e("p",{staticClass:"control"},[e("a",{staticClass:"button",attrs:{disabled:t.bNovo},on:{click:function(a){return a.preventDefault(),t.novoPaciente(a)}}},[t._v("Novo")])]),t._v(" "),e("p",{staticClass:"control"},[e("button",{staticClass:"button",attrs:{disabled:t.bAtualizar},on:{click:function(a){return a.preventDefault(),t.atualizarPaciente(a)}}},[t._v("Atualizar")])])])]),t._v(" "),e("b-modal",{attrs:{active:t.isImageModalActive},on:{"update:active":function(a){t.isImageModalActive=a}}},[e("b-table",{attrs:{data:t.tabPaciente.data,loading:t.tabPaciente.isLoading,columns:t.tabPaciente.columns,selected:t.tabPaciente.selected},on:{"update:selected":function(a){return t.$set(t.tabPaciente,"selected",a)},dblclick:t.copiaPaciente}})],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Identificação")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Telefones")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Endereço")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Observações")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("CID Associada")])])}],o={render:s,staticRenderFns:i};a.a=o},C4V4:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"card"},[t._m(0),t._v(" "),e("br"),t._v(" "),e("b-tabs",{attrs:{position:"is-centered",type:"is-toggle-rounded"},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("b-tab-item",{attrs:{label:"Dados"}},[e("dados")],1),t._v(" "),e("b-tab-item",{attrs:{label:"Convênios"}},[e("convenios")],1),t._v(" "),t.isActive?e("b-tab-item",{attrs:{label:"Prontuário"}},[e("prontuarios")],1):t._e(),t._v(" "),t._e()],1)],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",{staticClass:"card-header"},[e("p",{staticClass:"card-header-title"},[t._v("Informações do paciente")])])}],o={render:s,staticRenderFns:i};a.a=o},Dbbq:function(t,a,e){a=t.exports=e("FZ+f")(!0),a.push([t.i,".hero.is-link .tabs.is-toggle li.is-active a{background-color:#eaf0f4}","",{version:3,sources:["/home/fabiano/projects/01-darmas/clinica-facil/frontend/src/components/paciente/Tabs.vue"],names:[],mappings:"AACA,6CACI,wBAA0B,CAC7B",file:"Tabs.vue",sourcesContent:["\n.hero.is-link .tabs.is-toggle li.is-active a {\n    background-color: #eaf0f4;\n}\n"],sourceRoot:""}])},KdiN:function(t,a,e){"use strict";var s=e("Dd8w"),i=e.n(s),o=e("IXCS"),r=e.n(o),n=e("NHnr"),l=e("PJh5"),c=r.a.Validator.create({templates:{required:"Campo obrigatório",email:"Formato de e-mail inválido",length:"Tamanho do campo inválido"}});a.a={name:"Dados",data:function(){return{isImageModalActive:!1,tabPaciente:{isLoading:!1,data:[],columns:[{field:"nome",label:"Nome"},{field:"cpf",label:"CPF"}],selected:null},form:{nome:"",email:"",dt_nascimento:"",rg:"",cpf:"",filiacao:"",profissao:"",responsavel:"",t_celular:"",t_fixo:"",t_responsavel:"",cep:"",rua:"",numero:"",complemento:"",cidade:"",estado:"",observacoes:"",envioSMS:!1,adultoInapto:!1},isFetching:!1,bNovo:!0,bAtualizar:!0}},validators:{"form.nome":function(t){return c.value(t).required()},"form.email":function(t){return c.value(t).email()},"form.dt_nascimento":function(t){return c.value(t).required()},"form.rg":function(t){return c.value(t).length(10)},"form.cpf":function(t){return c.value(t).required().length(11)},"form.filiacao":function(t){return c.value(t)},"form.responsavel":function(t){if(this.form.adultoInapto)return c.value(t).required()},"form.t_responsavel":function(t){if(this.form.adultoInapto)return c.value(t).required()},"form.cep":function(t){return c.value(t).required()},"form.rua":function(t){return c.value(t).required()},"form.numero":function(t){return c.value(t).required()},"form.cidade":function(t){return c.value(t).required()},"form.estado":function(t){return c.value(t).required()}},methods:{copiaPaciente:function(){var t=this;console.log("Copia Paciente"),this.tabPaciente.selected.nome&&(this.$http.get("https://sistema-darmas.com.br/api/v1/paciente/nome-completo/"+this.tabPaciente.selected.nome).then(function(a){var e=a.data,s=l.utc(e.dt_nascimento).format("DD/MM/YYYY");e.dt_nascimento=s,t.form=e,t.bNovo=!0,t.bAtualizar=!1;var i={id:t.form.id,nome:t.form.nome,dt_nascimento:t.form.dt_nascimento};n.eBus.$emit("PACIENTE_ID",i)}).catch(function(a){t.$toast.open({message:"NENHUM PACIENTE encontrado.",type:"is-danger",position:"is-bottom"})}).finally(function(){t.tabPaciente.isLoading=!1}),this.isImageModalActive=!1)},pesquisarCPF:function(){var t=this;if(console.log("Pesquisar CPF"),this.form.cpf.length){var a=this.form.cpf;a=a.replace(".",""),a=a.replace(".",""),a=a.replace("-",""),this.$http.get("https://sistema-darmas.com.br/api/v1/paciente/cpf/"+a).then(function(a){if(a.data){var e=a.data,s=l.utc(e.dt_nascimento).format("DD/MM/YYYY");e.dt_nascimento=s,t.form=e,t.bAtualizar=!1,t.bNovo=!0}}).catch(function(a){440===a.response.status?t.$toast.open({duration:5e3,message:"SESSÃO expirou",type:"is-danger",position:"is-bottom"}):t.$toast.open({duration:5e3,message:"PACIENTE não encontrado",type:"is-warning",position:"is-bottom"}),t.bNovo=!1,t.bAtualizar=!0}).finally(function(){t.isFetching=!1})}},pesquisarCEP:function(){var t=this;if(!this.form.cep.length)return void(this.data=[]);var a=this.form.cep;a=a.replace(".",""),a=a.replace("-",""),this.$http.defaults.headers.common={},this.$http.get("https://viacep.com.br/ws/"+a+"/json").then(function(a){a.data&&(t.form.rua=a.data.logradouro,t.form.cidade=a.data.localidade,t.form.estado=a.data.uf)}).catch(function(a){t.erroCep()}).finally(function(){t.$http.defaults.headers.common.Authorization="Bearer "+t.$session.get("jwt")})},erroCep:function(){this.$toast.open({duration:5e3,message:"CEP não encontrado",type:"is-warning",position:"is-bottom"})},reset:function(){this.form.nome="",this.form.email="",this.form.dt_nascimento="",this.form.rg="",this.form.cpf="",this.form.filiacao="",this.form.profissao="",this.form.responsavel="",this.form.t_celular="",this.form.t_fixo="",this.form.t_reponsavel="",this.form.cep="",this.form.rua="",this.form.numero="",this.form.complemento="",this.form.cidade="",this.form.estado="",this.form.observacoes="",this.form.envioSMS=!1,this.form.adultoInapto=!1,this.isFetching=!1,this.data=[],this.bNovo=!0,this.bAtualizar=!0,this.validation.reset()},pesquisarNome:function(){var t=this;console.log("Pesquisar paciente"),this.form.nome.length&&(this.tabPaciente.isLoading=!0,this.$http.get("https://sistema-darmas.com.br/api/v1/paciente/nome/"+this.form.nome).then(function(a){t.tabPaciente.data=a.data,t.isImageModalActive=!0}).catch(function(a){t.$toast.open({message:"NENHUM PACIENTE encontrado.",type:"is-danger",position:"is-bottom"})}).finally(function(){t.tabPaciente.isLoading=!1}))},novoPaciente:function(){var t=this;console.log("Novo Profissional");var a={};this.$validate().then(function(e){if(!0===e){a=i()({},t.form),delete a.id;var s=l(t.form.dt_nascimento,"DD/MM/YYYY");a.dt_nascimento=s,t.$http.post("https://sistema-darmas.com.br/api/v1/paciente",a).then(function(a){console.log(a),t.$toast.open({message:"SUCESSO! PACIENTE gravado.",type:"is-success",position:"is-bottom"})}).catch(function(a){t.$toast.open({message:"FALHA ao inserir novo PACIENTE!",type:"is-danger",position:"is-bottom"})})}else t.$toast.open({message:"FORMULÁRIO INCOMPLETO",type:"is-danger",position:"is-bottom"})})},atualizarPaciente:function(){var t=this;if(!1!==this.validaForm()){console.log("Atualizar Paciente");var a=i()({},this.form),e=l.utc(a.dt_nascimento,"DD/MM/YYYY");a.dt_nascimento=e,this.$http.post("https://sistema-darmas.com.br/api/v1/paciente/"+this.form.cpf,a).then(function(a){t.$toast.open({message:"SUCESSO! Dados atualizados.",type:"is-success",position:"is-bottom"})}).catch(function(a){t.$toast.open({message:"FALHA ao atualizar PACIENTE!",type:"is-danger",position:"is-bottom"})})}},validaForm:function(){var t=this;this.$validate().then(function(a){return a?(t.$toast.open({message:"Formulário preenchido com sucesso!",type:"is-success",position:"is-bottom"}),!0):(t.$toast.open({message:"Formulário inválido! Verifique o preenchimento dos campos",type:"is-danger",position:"is-bottom"}),!1)})},cidAssociada:function(){console.log("Mostra CID Associada ao paciente")}},computed:{isChild:function(){var t=l.utc(this.form.dt_nascimento,"DD/MM/YYYY");if(t.isValid()){return Math.abs(t.diff(l(),"years"))>=18&&!this.form.adultoInapto}}}}},OH9W:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("SirY"),i=e("zlwR"),o=e("VU/8"),r=o(s.a,i.a,!1,null,null,null);a.default=r.exports},SirY:function(t,a,e){"use strict";var s=e("Dd8w"),i=e.n(s),o=e("NHnr"),r=e("IXCS"),n=e.n(r),l=e("PJh5"),c=n.a.Validator.create({templates:{required:"Campo obrigatório"}});a.a={name:"Convenios",beforeCreate:function(){console.log("Carregando infos...")},data:function(){return{modal:{data:[],columns:[{field:"descricao",label:"Descrição"}],isLoading:!1,selected:null,isImageModalActive:!1,isAddPSActive:!0},form:{ps:{id:"",descricao:""},no_carteira:"",dt_validade:"",paciente_id:"",nome:""},table:{data:[],columns:[{field:"ps",label:"Plano de Saúde"},{field:"no_carteira",label:"Numero da Carteira"},{field:"dt_validade",label:"Data de Validade"}],checkedRows:[]}}},validators:{"form.ps.descricao":function(t){return c.value(t).required()},"form.no_carteira":function(t){return c.value(t).required()},"form.dt_validade":function(t){return c.value(t).required()}},mounted:function(){var t=this;o.eBus.$on("PACIENTE_ID",function(a){a&&(t.form.paciente_id=a.id,t.form.nome=a.nome,t.getPSPaciente(a.id))})},methods:{getPSPaciente:function(t){var a=this;console.log("Busca planos de saude de um paciente"),this.form.paciente_id&&this.$http.get("https://sistema-darmas.com.br/api/v1/ps-paciente/"+t).then(function(t){var e=t.data,s={},i=[];for(s in e)i.push({ps:e[s].ps.descricao,dt_validade:l.utc(e[s].dt_validade).format("DD/MM/YYYY"),no_carteira:e[s].no_carteira,id:e[s].id});a.table.data=i}).catch(function(t){})},pesquisarPlano:function(){var t=this;console.log("Consulta planos de saude"),this.modal.isImageModalActive=!0,this.modal.isAddPSActive=!1,this.$http.get("https://sistema-darmas.com.br/api/v1/ps").then(function(a){t.modal.data=a.data}).catch(function(t){console.log(t)})},copiaPS:function(){console.log("Copia planos de saude"),this.modal.isImageModalActive=!1,this.modal.isAddPSActive=!0,this.form.ps=this.modal.selected},addPS:function(){var t=this;this.modal.isAddPSActive=!0,this.form.ps.descricao&&(console.log("Adiciona plano de saude novo"),this.$http.post("https://sistema-darmas.com.br/api/v1/ps/"+this.form.ps.descricao).then(function(a){t.reset()}).catch(function(t){console.log(t)}))},gravaPSPaciente:function(){var t=this;console.log("Grava PS para paciente");var a=i()({},this.form),e=l.utc(a.dt_validade,"DD/MM/YYYY");a.dt_validade=e,this.$validate().then(function(e){e&&t.$http.post("https://sistema-darmas.com.br/api/v1/ps-paciente",a).then(function(a){t.reset(),t.getPSPaciente(t.form.paciente_id)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},reset:function(){this.form.ps.descricao=null,this.form.ps.id=null,this.form.dt_validade=null,this.form.no_carteira=null,this.validation.reset()},deletePS:function(){var t=this;console.log("Apagar PS paciente");var a={};for(a in this.table.checkedRows)this.$http.get("https://sistema-darmas.com.br/api/v1/ps-paciente/delete/"+this.table.checkedRows[a].id).then(function(t){}).catch(function(a){t.$toast.open({message:"NÃO pode ser removido, em uso.",type:"is-danger",position:"is-bottom"})});this.getPSPaciente(this.form.paciente_id)}}}},WQya:function(t,a,e){"use strict";function s(t){e("tqAX")}Object.defineProperty(a,"__esModule",{value:!0});var i=e("sn7l"),o=e("C4V4"),r=e("VU/8"),n=s,l=r(i.a,o.a,!1,n,null,null);a.default=l.exports},fTJc:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("KdiN"),i=e("BJBy"),o=e("VU/8"),r=o(s.a,i.a,!1,null,null,null);a.default=r.exports},iI9i:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("b",[t._v("Paciente:  "),e("span",[t._v(t._s(t.form.nome))])])]),t._v(" "),e("div",{staticClass:"column"},[e("b",[t._v("Idade: "),e("span",[t._v(t._s(t.form.idade))])]),t._v(" anos\n    ")]),t._v(" "),e("div",{staticClass:"column"},[e("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.dt_atendimento,expression:"form.dt_atendimento"},{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.dt_atendimento")},attrs:{type:"text",placeholder:"dd/mm/aaaa"},domProps:{value:t.form.dt_atendimento},on:{input:function(a){a.target.composing||t.$set(t.form,"dt_atendimento",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.dt_atendimento"),expression:"validation.hasError('form.dt_atendimento')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.dt_atendimento")))])])])]),t._v(" "),t._m(1),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"field is-grouped is-grouped-right"},[e("p",{staticClass:"control"},[e("button",{staticClass:"button",attrs:{type:"reset"},on:{click:function(a){return a.preventDefault(),t.getProntuarioLegado(a)}}},[t._v("Visualizar Legado")])]),t._v(" "),e("p",{staticClass:"control"},[e("a",{staticClass:"button",attrs:{disabled:!0},on:{click:function(a){return a.preventDefault(),t.visualizarHistorico(t.form.id)}}},[t._v("Visualizar Histórico")])]),t._v(" "),e("p",{staticClass:"control"},[e("button",{staticClass:"button",attrs:{disabled:!0},on:{click:function(a){return a.preventDefault(),t.salavrEvolucao(t.form.id)}}},[t._v("Salvar Evolução")])])]),t._v(" "),e("section",[e("b-modal",{attrs:{active:t.isCardModalActive,width:800,scroll:"keep"},on:{"update:active":function(a){t.isCardModalActive=a}}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"media"},[e("div",{staticClass:"media-content"},[e("p",{staticClass:"title is-4"},[t._v("John Smith")]),t._v(" "),e("p",{staticClass:"subtitle is-6"},[t._v("@johnsmith")])])]),t._v(" "),e("div",{staticClass:"content"},[t._v("\n              "+t._s(t.form.prontuarioLegado)+"\n          ")])])])])],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Atendimento")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("textarea",{staticClass:"textarea",attrs:{placeholder:"Texto do prontuário",rows:"10"}})])}],o={render:s,staticRenderFns:i};a.a=o},m4ff:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("2gh5"),i=e("uBpp"),o=e("VU/8"),r=o(s.a,i.a,!1,null,null,null);a.default=r.exports},o641:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("sXvJ"),i=e("iI9i"),o=e("VU/8"),r=o(s.a,i.a,!1,null,null,null);a.default=r.exports},sXvJ:function(t,a,e){"use strict";var s=e("IXCS"),i=e.n(s),o=e("NHnr"),r=e("PJh5"),n=i.a.Validator.create({templates:{required:"Campo obrigatório"}});a.a={name:"Prontuarios",data:function(){return{form:{id:"",nome:"",idade:"",dt_atendimento:"",prontuarioLegado:""},isCardModalActive:!1,submitted:!0,bGravar:!0}},validators:{"form.dt_atendimento":function(t){if(this.validation.isTouched("form.dt_atendimento"))return this.submitted=!1,n.value(t).required()}},methods:{getProntuarioLegado:function(){var t=this;if(!this.form.id)return void console.log("ID de paciente em branco");console.log("Prontuário legado"),this.$http.get("https://sistema-darmas.com.br/api/v1/paciente/prontuario-legado/"+this.form.id).then(function(a){t.form.prontuarioLegado=a.data.conteudo,t.isCardModalActive=!0}).catch(function(a){t.$toast.open({message:"NENHUM PRONTUÁRIO encontrado.",type:"is-danger",position:"is-bottom"})}).finally(function(){t.isImageModalActive=!1})},salavrEvolucao:function(t){t&&console.log("Salvar evolução")},visualizarHistorico:function(t){t&&console.log("Visualizar histórico")}},mounted:function(){var t=this;o.eBus.$on("PACIENTE_ID",function(a){if(a){var e=r.utc(a.dt_nascimento,"DD/MM/YYYY"),s=Math.abs(e.diff(r(),"years"));t.form.id=a.id,t.form.nome=a.nome,t.form.idade=s,t.bGravar=!1}})}}},sn7l:function(t,a,e){"use strict";var s=e("fTJc"),i=e("OH9W"),o=e("o641"),r=e("m4ff");a.a={name:"Tabs",components:{Dados:s.default,Convenios:i.default,Prontuarios:o.default,Documentos:r.default},data:function(){return{activeTab:0,isActive:!0}},methods:{initApp:function(){switch(this.$session.get("perfil")){case"Recepcao":this.isActive=!1}}},mounted:function(){this.initApp()},computed:{loadConvenios:function(){1===this.activeTab&&console.log("Carregando convênios...")},isEnable:function(){}}}},tqAX:function(t,a,e){var s=e("Dbbq");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("dc418968",s,!0,{})},uBpp:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("form",[e("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{staticClass:"input",class:{"is-danger":!0},attrs:{type:"text"}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"help is-danger"},[t._v("xxx")])]),t._v(" "),e("b-field",{staticClass:"file"},[e("b-upload",{model:{value:t.file,callback:function(a){t.file=a},expression:"file"}},[e("a",{staticClass:"button is-info"},[t._v("\n                    Arquivo\n                ")])]),t._v(" "),t.file?e("span",{staticClass:"file-name"},[t._v("\n                "+t._s(t.file.name)+"\n            ")]):t._e()],1)],1)]),t._v(" "),e("div",{staticClass:"field is-grouped is-grouped-right"},[e("p",{staticClass:"control"},[e("a",{staticClass:"button",on:{click:function(a){return a.preventDefault(),t.pesquisarPlano(a)}}},[t._v("Salvar")])])])]),t._v(" "),e("b-table",{attrs:{data:t.data,columns:t.columns,"checked-rows":t.checkedRows,checkable:""},on:{"update:checkedRows":function(a){t.checkedRows=a},"update:checked-rows":function(a){t.checkedRows=a}}}),t._v(" "),e("div",{staticClass:"field is-grouped is-grouped-right"},[e("button",{staticClass:"button field is-info",attrs:{disabled:!t.checkedRows.length},on:{click:function(a){t.checkedRows=[]}}},[t._v("\n      Visualizar\n    ")])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Descrição")])])}],o={render:s,staticRenderFns:i};a.a=o},zlwR:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h4",{staticClass:"title is-4 has-text-black has-text-centered"},[t._v(t._s(t.form.nome))]),t._v(" "),e("form",[e("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("div",{staticClass:"field has-addons"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ps.descricao,expression:"form.ps.descricao"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.ps.descricao")},attrs:{type:"text",placeholder:"Plano de Saude",readonly:t.modal.isAddPSActive},domProps:{value:t.form.ps.descricao},on:{input:function(a){a.target.composing||t.$set(t.form.ps,"descricao",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"control"},[e("a",{staticClass:"button",attrs:{disabled:t.modal.isAddPSActive},on:{click:function(a){return a.preventDefault(),t.addPS(a)}}},[e("i",{staticClass:"fas fa-plus"})])]),t._v(" "),e("div",{staticClass:"control"},[e("a",{staticClass:"button"},[e("i",{staticClass:"fas fa-question",on:{click:function(a){return a.preventDefault(),t.pesquisarPlano(a)}}})])])]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.ps.descricao"),expression:"validation.hasError('form.ps.descricao')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.ps.descricao")))])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.no_carteira,expression:"form.no_carteira"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.no_carteira")},attrs:{type:"text",placeholder:"Numero Carteira"},domProps:{value:t.form.no_carteira},on:{input:function(a){a.target.composing||t.$set(t.form,"no_carteira",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.no_carteira"),expression:"validation.hasError('form.no_carteira')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.no_carteira")))])]),t._v(" "),e("div",{staticClass:"field"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"},{name:"model",rawName:"v-model",value:t.form.dt_validade,expression:"form.dt_validade"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.dt_validade")},attrs:{type:"text",placeholder:"Data Validade"},domProps:{value:t.form.dt_validade},on:{input:function(a){a.target.composing||t.$set(t.form,"dt_validade",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.dt_validade"),expression:"validation.hasError('form.dt_validade')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.dt_validade")))])])])]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"field is-grouped is-grouped-right"},[e("p",{staticClass:"control"},[e("a",{staticClass:"button is-info",on:{click:function(a){return a.preventDefault(),t.gravaPSPaciente(a)}}},[t._v("Adicionar Convênio")])])])]),t._v(" "),e("b-table",{attrs:{data:t.table.data,columns:t.table.columns,"checked-rows":t.table.checkedRows,checkable:""},on:{"update:checkedRows":function(a){return t.$set(t.table,"checkedRows",a)},"update:checked-rows":function(a){return t.$set(t.table,"checkedRows",a)}}}),t._v(" "),e("div",{staticClass:"field is-grouped is-grouped-right"},[e("button",{staticClass:"button field is-danger",attrs:{disabled:!t.table.checkedRows.length},on:{click:function(a){return a.preventDefault(),t.deletePS(a)}}},[e("i",{staticClass:"fas fa-times"}),t._v("\n     Apagar\n    ")])]),t._v(" "),e("b-modal",{attrs:{active:t.modal.isImageModalActive},on:{"update:active":function(a){return t.$set(t.modal,"isImageModalActive",a)}}},[e("b-table",{attrs:{data:t.modal.data,loading:t.modal.isLoading,columns:t.modal.columns,selected:t.modal.selected},on:{"update:selected":function(a){return t.$set(t.modal,"selected",a)},dblclick:t.copiaPS}})],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Identificação")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field is-horizontal"},[e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Consultas")])]),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("input",{staticClass:"input",attrs:{placeholder:"Permitidas"}})])]),t._v(" "),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("input",{staticClass:"input",attrs:{placeholder:"Realizdas"}})])])])}],o={render:s,staticRenderFns:i};a.a=o}});
//# sourceMappingURL=5.37caf387a430c5a22df8.js.map