webpackJsonp([15],{nE2U:function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("b",[t._v("Paciente:  "),e("span",[t._v(t._s(t.form.nome))])])]),t._v(" "),e("div",{staticClass:"column"},[e("b",[t._v("Idade: "),e("span",[t._v(t._s(t.form.idade))])]),t._v(" anos\n    ")]),t._v(" "),e("div",{staticClass:"column"},[e("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.dt_atendimento,expression:"form.dt_atendimento"},{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.dt_atendimento")},attrs:{type:"text",placeholder:"dd/mm/aaaa"},domProps:{value:t.form.dt_atendimento},on:{input:function(a){a.target.composing||t.$set(t.form,"dt_atendimento",a.target.value)}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.dt_atendimento"),expression:"validation.hasError('form.dt_atendimento')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.dt_atendimento")))])])])]),t._v(" "),t._m(1),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"field is-grouped is-grouped-right"},[e("p",{staticClass:"control"},[e("button",{staticClass:"button",attrs:{type:"reset"},on:{click:function(a){return a.preventDefault(),t.getProntuarioLegado(a)}}},[t._v("Visualizar Legado")])]),t._v(" "),e("p",{staticClass:"control"},[e("a",{staticClass:"button",attrs:{disabled:t.bGravar},on:{click:function(a){return a.preventDefault(),t.visualizarHistorico(t.form.id)}}},[t._v("Visualizar Histórico")])]),t._v(" "),e("p",{staticClass:"control"},[e("button",{staticClass:"button",attrs:{disabled:t.submitted},on:{click:function(a){return a.preventDefault(),t.salavrEvolucao(t.form.id)}}},[t._v("Salvar Evolução")])])]),t._v(" "),e("section",[e("b-modal",{attrs:{active:t.isCardModalActive,width:800,scroll:"keep"},on:{"update:active":function(a){t.isCardModalActive=a}}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"media"},[e("div",{staticClass:"media-content"},[e("p",{staticClass:"title is-4"},[t._v("John Smith")]),t._v(" "),e("p",{staticClass:"subtitle is-6"},[t._v("@johnsmith")])])]),t._v(" "),e("div",{staticClass:"content"},[t._v("\n              "+t._s(t.form.prontuarioLegado)+"\n          ")])])])])],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Atendimento")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("textarea",{staticClass:"textarea",attrs:{placeholder:"Texto do prontuário",rows:"10"}})])}],s={render:o,staticRenderFns:i};a.a=s},o641:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("sXvJ"),i=e("nE2U"),s=e("VU/8"),n=s(o.a,i.a,!1,null,null,null);a.default=n.exports},sXvJ:function(t,a,e){"use strict";var o=e("IXCS"),i=e.n(o),s=e("NHnr"),n=e("mtWM"),r=e.n(n),d=e("PJh5"),l=r.a.create({baseURL:s.API_URL,headers:{Authorization:"Bearer: "+localStorage.getItem("token")}}),c=i.a.Validator.create({templates:{required:"Campo obrigatório"}});a.a={name:"Prontuarios",data:function(){return{form:{id:"",nome:"",idade:"",dt_atendimento:"",prontuarioLegado:""},isCardModalActive:!1,submitted:!0,bGravar:!0}},validators:{"form.dt_atendimento":function(t){if(this.validation.isTouched("form.dt_atendimento"))return this.submitted=!1,c.value(t).required()}},methods:{getProntuarioLegado:function(){if(!this.form.id)return void console.log("ID de paciente em branco");console.log("Prontuário legado");var t=this;l.get(s.API_URL+"paciente/prontuario-legado/"+t.form.id,{}).then(function(a){t.form.prontuarioLegado=a.data.conteudo,t.isCardModalActive=!0}).catch(function(a){t.$toast.open({message:"NENHUM PRONTUÁRIO encontrado.",type:"is-danger",position:"is-bottom"})}).finally(function(){t.isImageModalActive=!1})},salavrEvolucao:function(t){t&&console.log("Salvar evolução")},visualizarHistorico:function(t){t&&console.log("Visualizar histórico")}},mounted:function(){var t=this;s.eBus.$on("PACIENTE_ID",function(a){if(a){var e=d.utc(a.dt_nascimento,"DD/MM/YYYY"),o=Math.abs(e.diff(d(),"years"));t.form.id=a.id,t.form.nome=a.nome,t.form.idade=o,t.bGravar=!1}})}}}});
//# sourceMappingURL=15.89788e971d556ce0740f.js.map