webpackJsonp([15],{iI9i:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("b",[t._v("Paciente:  "),i("span",[t._v(t._s(t.form.nome))])])]),t._v(" "),i("div",{staticClass:"column"},[i("b",[t._v("Idade: "),i("span",[t._v(t._s(t.form.idade))])]),t._v(" anos\n    ")]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),i("p",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.dt_atendimento,expression:"form.dt_atendimento"},{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],staticClass:"input",class:{"is-danger":t.validation.hasError("form.dt_atendimento")},attrs:{type:"text",placeholder:"dd/mm/aaaa"},domProps:{value:t.form.dt_atendimento},on:{input:function(a){a.target.composing||t.$set(t.form,"dt_atendimento",a.target.value)}}})]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.validation.hasError("form.dt_atendimento"),expression:"validation.hasError('form.dt_atendimento')"}],staticClass:"help is-danger"},[t._v(t._s(t.validation.firstError("form.dt_atendimento")))])])])]),t._v(" "),t._m(1),t._v(" "),i("br"),t._v(" "),i("div",{staticClass:"field is-grouped is-grouped-right"},[i("p",{staticClass:"control"},[i("button",{staticClass:"button",attrs:{type:"reset"},on:{click:function(a){return a.preventDefault(),t.getProntuarioLegado(a)}}},[t._v("Visualizar Legado")])]),t._v(" "),i("p",{staticClass:"control"},[i("a",{staticClass:"button",attrs:{disabled:!0},on:{click:function(a){return a.preventDefault(),t.visualizarHistorico(t.form.id)}}},[t._v("Visualizar Histórico")])]),t._v(" "),i("p",{staticClass:"control"},[i("button",{staticClass:"button",attrs:{disabled:!0},on:{click:function(a){return a.preventDefault(),t.salavrEvolucao(t.form.id)}}},[t._v("Salvar Evolução")])])]),t._v(" "),i("section",[i("b-modal",{attrs:{active:t.isCardModalActive,width:800,scroll:"keep"},on:{"update:active":function(a){t.isCardModalActive=a}}},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-content"},[i("p",{staticClass:"title is-4"},[t._v("John Smith")]),t._v(" "),i("p",{staticClass:"subtitle is-6"},[t._v("@johnsmith")])])]),t._v(" "),i("div",{staticClass:"content"},[t._v("\n              "+t._s(t.form.prontuarioLegado)+"\n          ")])])])])],1)])},o=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"field-label is-normal"},[i("label",{staticClass:"label"},[t._v("Atendimento")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("section",[i("textarea",{staticClass:"textarea",attrs:{placeholder:"Texto do prontuário",rows:"10"}})])}],s={render:e,staticRenderFns:o};a.a=s},o641:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("sXvJ"),o=i("iI9i"),s=i("VU/8"),n=s(e.a,o.a,!1,null,null,null);a.default=n.exports},sXvJ:function(t,a,i){"use strict";var e=i("IXCS"),o=i.n(e),s=i("NHnr"),n=i("PJh5"),r=o.a.Validator.create({templates:{required:"Campo obrigatório"}});a.a={name:"Prontuarios",data:function(){return{form:{id:"",nome:"",idade:"",dt_atendimento:"",prontuarioLegado:""},isCardModalActive:!1,submitted:!0,bGravar:!0}},validators:{"form.dt_atendimento":function(t){if(this.validation.isTouched("form.dt_atendimento"))return this.submitted=!1,r.value(t).required()}},methods:{getProntuarioLegado:function(){var t=this;if(!this.form.id)return void console.log("ID de paciente em branco");console.log("Prontuário legado"),this.$http.get("https://sistema-darmas.com.br/api/v1/paciente/prontuario-legado/"+this.form.id).then(function(a){t.form.prontuarioLegado=a.data.conteudo,t.isCardModalActive=!0}).catch(function(a){t.$toast.open({message:"NENHUM PRONTUÁRIO encontrado.",type:"is-danger",position:"is-bottom"})}).finally(function(){t.isImageModalActive=!1})},salavrEvolucao:function(t){t&&console.log("Salvar evolução")},visualizarHistorico:function(t){t&&console.log("Visualizar histórico")}},mounted:function(){var t=this;s.eBus.$on("PACIENTE_ID",function(a){if(a){var i=n.utc(a.dt_nascimento,"DD/MM/YYYY"),e=Math.abs(i.diff(n(),"years"));t.form.id=a.id,t.form.nome=a.nome,t.form.idade=e,t.bGravar=!1}})}}}});
//# sourceMappingURL=15.1f0568618b73193375f2.js.map